inp = '''
turn on 887,9 through 959,629D
turn on 454,398 through 844,448D
turn off 539,243 through 559,965D
turn off 370,819 through 676,868D
turn off 145,40 through 370,997D
turn off 301,3 through 808,453D
turn on 351,678 through 951,908D
toggle 720,196 through 897,994D
toggle 831,394 through 904,860D
toggle 753,664 through 970,926D
turn off 150,300 through 213,740D
turn on 141,242 through 932,871D
toggle 294,259 through 474,326D
toggle 678,333 through 752,957D
toggle 393,804 through 510,976D
turn off 6,964 through 411,976D
turn off 33,572 through 978,590D
turn on 579,693 through 650,978D
turn on 150,20 through 652,719D
turn off 782,143 through 808,802D
turn off 240,377 through 761,468D
turn off 899,828 through 958,967D
turn on 613,565 through 952,659D
turn on 295,36 through 964,978D
toggle 846,296 through 969,528D
turn off 211,254 through 529,491D
turn off 231,594 through 406,794D
turn off 169,791 through 758,942D
turn on 955,440 through 980,477D
toggle 944,498 through 995,928D
turn on 519,391 through 605,718D
toggle 521,303 through 617,366D
turn off 524,349 through 694,791D
toggle 391,87 through 499,792D
toggle 562,527 through 668,935D
turn off 68,358 through 857,453D
toggle 815,811 through 889,828D
turn off 666,61 through 768,87D
turn on 27,501 through 921,952D
turn on 953,102 through 983,471D
turn on 277,552 through 451,723D
turn off 64,253 through 655,960D
turn on 47,485 through 734,977D
turn off 59,119 through 699,734D
toggle 407,898 through 493,955D
toggle 912,966 through 949,991D
turn on 479,990 through 895,990D
toggle 390,589 through 869,766D
toggle 593,903 through 926,943D
toggle 358,439 through 870,528D
turn off 649,410 through 652,875D
turn on 629,834 through 712,895D
toggle 254,555 through 770,901D
toggle 641,832 through 947,850D
turn on 268,448 through 743,777D
turn off 512,123 through 625,874D
turn off 498,262 through 930,811D
turn off 835,158 through 886,242D
toggle 546,310 through 607,773D
turn on 501,505 through 896,909D
turn off 666,796 through 817,924D
toggle 987,789 through 993,809D
toggle 745,8 through 860,693D
toggle 181,983 through 731,988D
turn on 826,174 through 924,883D
turn on 239,228 through 843,993D
turn on 205,613 through 891,667D
toggle 867,873 through 984,896D
turn on 628,251 through 677,681D
toggle 276,956 through 631,964D
turn on 78,358 through 974,713D
turn on 521,360 through 773,597D
turn off 963,52 through 979,502D
turn on 117,151 through 934,622D
toggle 237,91 through 528,164D
turn on 944,269 through 975,453D
toggle 979,460 through 988,964D
turn off 440,254 through 681,507D
toggle 347,100 through 896,785D
turn off 329,592 through 369,985D
turn on 931,960 through 979,985D
toggle 703,3 through 776,36D
toggle 798,120 through 908,550D
turn off 186,605 through 914,709D
turn off 921,725 through 979,956D
toggle 167,34 through 735,249D
turn on 726,781 through 987,936D
toggle 720,336 through 847,756D
turn on 171,630 through 656,769D
turn off 417,276 through 751,500D
toggle 559,485 through 584,534D
turn on 568,629 through 690,873D
toggle 248,712 through 277,988D
toggle 345,594 through 812,723D
turn off 800,108 through 834,618D
turn off 967,439 through 986,869D
turn on 842,209 through 955,529D
turn on 132,653 through 357,696D
turn on 817,38 through 973,662D
turn off 569,816 through 721,861D
turn on 568,429 through 945,724D
turn on 77,458 through 844,685D
turn off 138,78 through 498,851D
turn on 136,21 through 252,986D
turn off 2,460 through 863,472D
turn on 172,81 through 839,332D
turn on 123,216 through 703,384D
turn off 879,644 through 944,887D
toggle 227,491 through 504,793D
toggle 580,418 through 741,479D
toggle 65,276 through 414,299D
toggle 482,486 through 838,931D
turn off 557,768 through 950,927D
turn off 615,617 through 955,864D
turn on 859,886 through 923,919D
turn on 391,330 through 499,971D
toggle 521,835 through 613,847D
turn on 822,787 through 989,847D
turn on 192,142 through 357,846D
turn off 564,945 through 985,945D
turn off 479,361 through 703,799D
toggle 56,481 through 489,978D
turn off 632,991 through 774,998D
toggle 723,526 through 945,792D
turn on 344,149 through 441,640D
toggle 568,927 through 624,952D
turn on 621,784 through 970,788D
toggle 665,783 through 795,981D
toggle 386,610 through 817,730D
toggle 440,399 through 734,417D
toggle 939,201 through 978,803D
turn off 395,883 through 554,929D
turn on 340,309 through 637,561D
turn off 875,147 through 946,481D
turn off 945,837 through 957,922D
turn off 429,982 through 691,991D
toggle 227,137 through 439,822D
toggle 4,848 through 7,932D
turn off 545,146 through 756,943D
turn on 763,863 through 937,994D
turn on 232,94 through 404,502D
turn off 742,254 through 930,512D
turn on 91,931 through 101,942D
toggle 585,106 through 651,425D
turn on 506,700 through 567,960D
turn off 548,44 through 718,352D
turn off 194,827 through 673,859D
turn off 6,645 through 509,764D
turn off 13,230 through 821,361D
turn on 734,629 through 919,631D
toggle 788,552 through 957,972D
toggle 244,747 through 849,773D
turn off 162,553 through 276,887D
turn off 569,577 through 587,604D
turn off 799,482 through 854,956D
turn on 744,535 through 909,802D
toggle 330,641 through 396,986D
turn off 927,458 through 966,564D
toggle 984,486 through 986,913D
toggle 519,682 through 632,708D
turn on 984,977 through 989,986D
toggle 766,423 through 934,495D
turn on 17,509 through 947,718D
turn on 413,783 through 631,903D
turn on 482,370 through 493,688D
turn on 433,859 through 628,938D
turn off 769,549 through 945,810D
turn on 178,853 through 539,941D
turn off 203,251 through 692,433D
turn off 525,638 through 955,794D
turn on 169,70 through 764,939D
toggle 59,352 through 896,404D
toggle 143,245 through 707,320D
turn off 103,35 through 160,949D
toggle 496,24 through 669,507D
turn off 581,847 through 847,903D
turn on 689,153 through 733,562D
turn on 821,487 through 839,699D
turn on 837,627 through 978,723D
toggle 96,748 through 973,753D
toggle 99,818 through 609,995D
turn on 731,193 through 756,509D
turn off 622,55 through 813,365D
turn on 456,490 through 576,548D
turn on 48,421 through 163,674D
turn off 853,861 through 924,964D
turn off 59,963 through 556,987D
turn on 458,710 through 688,847D
toggle 12,484 through 878,562D
turn off 241,964 through 799,983D
turn off 434,299 through 845,772D
toggle 896,725 through 956,847D
turn on 740,289 through 784,345D
turn off 395,840 through 822,845D
turn on 955,224 through 996,953D
turn off 710,186 through 957,722D
turn off 485,949 through 869,985D
turn on 848,209 through 975,376D
toggle 221,241 through 906,384D
turn on 588,49 through 927,496D
turn on 273,332 through 735,725D
turn on 505,962 through 895,962D
toggle 820,112 through 923,143D
turn on 919,792 through 978,982D
toggle 489,461 through 910,737D
turn off 202,642 through 638,940D
turn off 708,953 through 970,960D
toggle 437,291 through 546,381D
turn on 409,358 through 837,479D
turn off 756,279 through 870,943D
turn off 154,657 through 375,703D
turn off 524,622 through 995,779D
toggle 514,221 through 651,850D
toggle 808,464 through 886,646D
toggle 483,537 through 739,840D
toggle 654,769 through 831,825D
turn off 326,37 through 631,69D
turn off 590,570 through 926,656D
turn off 881,913 through 911,998D
turn on 996,102 through 998,616D
turn off 677,503 through 828,563D
turn on 860,251 through 877,441D
turn off 964,100 through 982,377D
toggle 888,403 through 961,597D
turn off 632,240 through 938,968D
toggle 731,176 through 932,413D
turn on 5,498 through 203,835D
turn on 819,352 through 929,855D
toggle 393,813 through 832,816D
toggle 725,689 through 967,888D
turn on 968,950 through 969,983D
turn off 152,628 through 582,896D
turn off 165,844 through 459,935D
turn off 882,741 through 974,786D
turn off 283,179 through 731,899D
toggle 197,366 through 682,445D
turn on 106,309 through 120,813D
toggle 950,387 through 967,782D
turn off 274,603 through 383,759D
turn off 155,665 through 284,787D
toggle 551,871 through 860,962D
turn off 30,826 through 598,892D
toggle 76,552 through 977,888D
turn on 938,180 through 994,997D
toggle 62,381 through 993,656D
toggle 625,861 through 921,941D
turn on 685,311 through 872,521D
turn on 124,934 through 530,962D
turn on 606,379 through 961,867D
turn off 792,735 through 946,783D
turn on 417,480 through 860,598D
toggle 178,91 through 481,887D
turn off 23,935 through 833,962D
toggle 317,14 through 793,425D
turn on 986,89 through 999,613D
turn off 359,201 through 560,554D
turn off 729,494 through 942,626D
turn on 204,143 through 876,610D
toggle 474,97 through 636,542D
turn off 902,924 through 976,973D
turn off 389,442 through 824,638D
turn off 622,863 through 798,863D
turn on 840,622 through 978,920D
toggle 567,374 through 925,439D
turn off 643,319 through 935,662D
toggle 185,42 through 294,810D
turn on 47,124 through 598,880D
toggle 828,303 through 979,770D
turn off 174,272 through 280,311D
turn off 540,50 through 880,212D
turn on 141,994 through 221,998D
turn on 476,695 through 483,901D
turn on 960,216 through 972,502D
toggle 752,335 through 957,733D
turn off 419,713 through 537,998D
toggle 772,846 through 994,888D
turn on 881,159 through 902,312D
turn off 537,651 through 641,816D
toggle 561,947 through 638,965D
turn on 368,458 through 437,612D
turn on 290,149 through 705,919D
turn on 711,918 through 974,945D
toggle 916,242 through 926,786D
toggle 522,272 through 773,314D
turn on 432,897 through 440,954D
turn off 132,169 through 775,380D
toggle 52,205 through 693,747D
toggle 926,309 through 976,669D
turn off 838,342 through 938,444D
turn on 144,431 through 260,951D
toggle 780,318 through 975,495D
turn off 185,412 through 796,541D
turn on 879,548 through 892,860D
turn on 294,132 through 460,338D
turn on 823,500 through 899,529D
turn off 225,603 through 483,920D
toggle 717,493 through 930,875D
toggle 534,948 through 599,968D
turn on 522,730 through 968,950D
turn off 102,229 through 674,529
'''

def parse(line):
    s = line.split()
    if s[0] == 'turn':
        action = s[1]
        coords = (s[2], s[4])
    elif s[0] == 'toggle':
        action = s[0]
        coords = (s[1], s[3])
    return (action,
            map(int, coords[0].split(',')),
            map(int, coords[1].split(',')))

res = 0
for x in xrange(1000):
    for y in xrange(1000):
        state = False
        for line in inp.split('D'):
            action, [x1,y1], [x2,y2] = parse(line)
            # print action, x1, y1, x2, y2
            if x1 <= x <= x2 and y1 <= y <= y2:
                state = not state if action == 'toggle' else (action == 'on')
        print x,y, state
        if state:
            res += 1

print res # 377891